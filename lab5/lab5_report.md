# 实验五 文件系统
## 1 实验简介
##### 本实验要求在模拟的I/O系统之上开发一个简单的文件系统。用户通过create, open,read等命令与文件系统交互。文件系统把磁盘视为顺序编号的逻辑块序列，逻辑块的编号为0至L −1。I/O系统利用内存中的数组模拟磁盘。
## 2 I/O系统
##### 实际物理磁盘的结构是多维的：有柱面、磁头、扇区等概念。I/O系统的任务是隐藏磁盘的结构细节，把磁盘以逻辑块的面目呈现给文件系统。逻辑块顺序编号，编号取值范围为0至L−1，其中L表示磁盘的存储块总数。实验中，我们可以利用数组ldisk[C][H][B]构建磁盘模型，其中CHB分别表示柱面号，磁头号和扇区号。每个扇区大小为512字节。I/O系统从文件系统接收命令，根据命令指定的逻辑块号把磁盘块的内容读入命令指定的内存区域，或者把命令指定的内存区域内容写入磁盘块。文件系统和I/O系统之间的接口由如下两个函数定义：
##### •read_block(inti, char *p);
##### 该函数把逻辑块i的内容读入到指针p指向的内存位置，拷贝的字符个数为存储块的长度B。
##### •write block(inti, char *p);
##### 该函数把指针p指向的内容写入逻辑块i，拷贝的字符个数为存储块的长度B。此外，为了方便测试，我们还需要实现另外两个函数：一个用来把数组ldisk存储到文件；另一个用来把文件内容恢复到数组。

## 3 文件系统
##### 
### 3.1 用户与文件系统之间的接口
##### 
### 3.2 文件系统的组织
##### 
### 3.3 目录
##### 
### 3.4 文件的创建与删除
##### 
### 3.5 文件的打开与关闭
##### 
### 3.6 读写
##### 
## 4 测试
##### 
